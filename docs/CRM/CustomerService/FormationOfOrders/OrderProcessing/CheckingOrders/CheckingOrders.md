# Проверки заказов клиентов

Для контроля заказов клиента используются проверки:

- [Ассортимент товаров](CheckingForProductAssortment.md) - проверяется ассортимент отгружаемых по спецификации соглашения товаров
- [Время приема заказа](CheckingTheOrderAcceptanceTime.md) - проверка соответствия времени даты заказа с разрешенным временем заказов для складов
- [График доставки](CheckingTheDeliverySchedule.md) - проверяется соответствие даты доставки заказа графику доставки
- [Дебиторская задолженность](CheckingAccountsReceivable.md) - проверка того, что не превышена дебиторская задолженность
- [Допустимая сумма отгрузок](CheckingTheAllowableAmountOfShipments.md) - проверка того, что клиенту отгружается количество товара за день на сумму меньше допустимой суммы отгрузок
- [Допустимый объем отгрузок](CheckingTheAllowedVolumeOfShipments.md) - проверка того, что клиенту отгружается количество товара меньше допустимого объема отгрузок
- [Количество дней отсрочки платежа](CheckingTheNumberOfDaysOfDeferredPayment.md) - проверка на наличие задолженности более установленного количества дней от даты последней оплаты
- [Кратность отгрузки](CheckingTheMultiplicityOfShipments.md) - проверка того, что номенклатура в заказе соответствует кратности
- [Минимальная сумма](CheckingTheMinimumAmount.md) - проверка того, что заказ был сделан на сумму больше минимальной
- [Просроченная дебиторская задолженность](CheckingOverdueAccountsReceivable.md) - проверка того что у контрагента по соглашению просроченная дебиторская задолженность меньше допустимого значения
- [Сезонность продукции](CheckingTheSeasonalityOfProducts.md) - продажа сезонного товара осуществляется в установленный сезон
- [Товар доступен для продаж](CheckingProductAvailabilityForSales.md) - проверка, что товар доступен к продаже  
- [Цены](CheckingThePrice.md) - проверка соответствия цен из заказа действующим ценам по прайс-листу
- [Цены EDI]() - проверка соответствия цен из заказа ценам EDI 

Настроим в системе ведение проверок, переходим к **"Настройкам исполнения заказов"**:

[![1][1]][1]

Устанавливаем признак использования проверок:

[![2][2]][2]

Затем переходим в регистр "Настройки проверок документов". По кнопке "Создать" создаем настройки для типов документов (Заказ клиента, Заказ на перемещение, Внутренний заказ), к которым будут использоваться проверки   
Признак "Использовать проверки" включает проверки для указанного типа документа  
Признак "Использовать автоматические проверки" запускает проверки при проведении документа, иначе проверки запускаются вручную по кнопке "Действия" - "Проверить". Документ должен находиться в статусе с настройкой "Использовать проверки"

[![3][3]][3]

Справочник "Условия отборов для проверок" нужен для более детальной настройки условий проверок. Справочник позволяет для каждого типа документа делать дополнительные условия отборов, по которым будут в дальнейшем включаться проверки. Даже если вы не собираетесь делать дополнительные условия, необходимо для каждого типа документа, которому будут включены проверки, создать свой элемент справочника

[![12][12]][12]

В справочнике "Проверки документов" каждой проверке, которую хотим использовать указываем признак "Используется" для элементов справочника "Условия отбора", к которым нужно применять проверку

[![13][13]][13]

Для пользователей, которые занимаются проверками заказов клиентов в системе создан поставляемый профиль доступа *"Проверка заказов клиентов"*  
Для ручного утверждения заказов необходима роль "Утверждение проверок вручную"

[![5][5]][5]  

Далее для статусов заказов устанавливаем настройки

[![6][6]][6]

Для статуса указываются : 
- Наименование
- Тип документа
- Запрет отгрузки (для заказов в этом статусе нельзя создать документ реализации)
- Запрет выполнения движений (документ в этом статусе не делает движений в регистрах)
- Использовать проверки (для заказов в этом статусе можно запустить проверки)
- Формировать план отгрузки (для заказов в этом статусе и состоянии "Проверки успешны" или "Проверки утверждены вручную" можно формировать документ "План отгрузки")
- Цвет оформления, для статуса можно выбрать цвет

На форме списка заказов в панели отборов отображаются ссылки, которые информируют сколько проверок к заказу применялось и сколько из них были успешны. При нажатии выводится сообщение о том какие проверки и почему не были пройдены. Гиперссылки отображаются при использовании роли **к2ВидимостьПроверокНаФормеСписка**  

[![10][10]][10]  

По кнопке "Действия" - "Подтвердить проверки" заказы переходят в состояние "Проверки утверждены вручную"

[1]: CheckingOrders.assets/1.png
[2]: CheckingOrders.assets/2.png
[3]: CheckingOrders.assets/31.png
[4]: CheckingOrders.assets/4.png
[5]: CheckingOrders.assets/5.png
[6]: CheckingOrders.assets/61.png
[7]: CheckingOrders.assets/71.png
[8]: CheckingOrders.assets/8.png
[9]: CheckingOrders.assets/9.png
[10]: CheckingOrders.assets/10.png
[11]: CheckingOrders.assets/11.png  
[12]: CheckingOrders.assets/12.png
[13]: CheckingOrders.assets/13.png